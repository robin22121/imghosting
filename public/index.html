<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-storage.js"></script>
    <!-- 나눔고딕 -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Dongle:wght@300&family=Nanum+Gothic:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- 부트스트랩 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="./css/css.css" />
  </head>
  <body>
    <!-- 내브바 영역 -->
    <nav class="navbar navbar-light">
      <div class="container">
        <a class="navbar-brand purple" id="purple" href="./index.html"
          >이미지호스팅
        </a>
        <ul class="nav justify-content-end">
          <li class="nav-item">
            <a class="nav-link" href="./index.html" id="a11">호스팅하기</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./gallery.html">갤러리</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./mydata.html">내 자료</a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-before" href="./login.html">로그인</a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-login" href=""></a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-logout" href="">로그아웃</a>
          </li>
        </ul>
      </div>
    </nav>
    <!--업로드 -->
    <div class="mt-5 container upload-container" id="width-container">
      <fieldset>
        <legend>호스팅 이미지 만들기</legend>
        <span><input class="title-input" type="text" /></span>
        <div class="row">
          <div class="mb-3 col-10">
            <input type="file" class="form-control" id="inputGroupFile01" />
          </div>
          <div class="col-2 submit-btn">
            <button type="submit" class="btn img-btn" id="submit-btn">
              만들기
            </button>
          </div>
        </div>
      </fieldset>
    </div>
    <!-- 업로드 설명 -->
    <p class="txt">인물</p>
    <button class="test1">실험하기</button>
    <p class="text">
      컴퓨터에서 원하는 이미지 파일을 선택하고
      <span>
        <button
          type="submit"
          class="btn img-btn"
          id="submit-btn2"
          sytle="width:60px;"
        >
          만들기
        </button></span
      >
      버튼을 누르시면 호스팅된 이미지가 만들어집니다
    </p>

    <!-- 실험 -->
    <!-- 이름<input type="text" class="name" /> 전화번호
    <input type="text" class="number" />
    <button type="submit" class="name-btn btn-primary">버튼</button>
    <button type="submit" class="name-btn2 btn-primary">버튼2</button>
    <h1 class="test1">test</h1>
    <h1 class="test2">test2</h1> -->

    <!-- 퍼가기 -->

    <div class="copy container mt-3" id="width-container">
      <legend class="ms-1">주소 영역(퍼가기)</legend>
      <div class="row">
        <textarea
          type="text"
          class="title-copy col-11 ms-2 fs-9"
          id="input_text"
        >
        </textarea>
      </div>
      <p class="text mt-2 p-1">
        주소영역을 클릭하시면 이미지 주소가 복사됩니다.
      </p>
    </div>
    <!-- 이미지 영역 -->

    <div class="image container image-container mt-2" id="width-container">
      <div class="image-box"></div>
      <div style="text-align: right" class="image-uploader"></div>
    </div>

    <!-- 파이어베이스 시작하기 -->
    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyBSLvA-KMxDfrJrPfX9KTjdgZ4yVYu8iaA",
        authDomain: "imghosting-dfdf8.firebaseapp.com",
        projectId: "imghosting-dfdf8",
        storageBucket: "imghosting-dfdf8.appspot.com",
        messagingSenderId: "782147956242",
        appId: "1:782147956242:web:3467fcb96a2362c6bd72cb",
      };
      firebase.initializeApp(firebaseConfig);
    </script>
    <script src="main.js"></script>

    <!--  -->

    <script>
      firebase.auth().onAuthStateChanged((user) => {
        if (user) {
          console.log(user);
          localStorage.setItem("user", JSON.stringify(user));
          var 뺀거 = localStorage.getItem("user");
          console.log("뺀거는", JSON.parse(뺀거).displayName);
          $(".nav-login").html(JSON.parse(뺀거).displayName);
          if (뺀거) {
            $(".nav-login").css("display", "block");
            $(".nav-logout").css("display", "block");
            $(".nav-before").css("display", "none");
          } else {
            $(".nav-login").css("display", "none");
            $(".nav-before").css("display", "block");
          }
          $(".nav-logout").click(() => {
            firebase.auth().signOut();
            localStorage.removeItem("user");
          });
        }
      });
    </script>
  </body>
</html>
